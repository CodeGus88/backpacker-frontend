<div class="modal fade" id="modalx" #modalx tabindex="-1" aria-hidden="true" aria-labelledby="title">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="title" *ngIf="editableFlag; else titleNew">Editar</h5>
                <ng-template #titleNew>
                    <h5 class="modal-title" id="title">Nuevo</h5>
                </ng-template>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container p-0 border-1 rounded" id="form">
                    <div class="mt-3">
                        <div class="mb-3" *ngIf="editableFlag">
                            <label for="uuid" class="form-label">UUID</label>
                            <input type="text" class="form-control" disabled="true" id="uuid" aria-describedby="uuid"
                                [(ngModel)]="editableUuid">
                        </div>
                        <div class="mb-3">
                            <label for="title" class="form-label">Título</label>
                            <input type="text" class="form-control" id="title" aria-describedby="title"
                                [(ngModel)]="request.title" maxlength="30" required="true">
                            <div id="titleEsp" class="form-text">
                                Requerido {{request.title?request.title.length:0}}/30
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="address" aria-describedby="address"
                                name="address" [(ngModel)]="request.address" (keyup.enter)="search()" maxlength="100"
                                required="true">
                            <div id="addressEsp" class="form-text">Requerido
                                {{request.address?request.address.length:0}}/100</div>
                        </div>
                    </div>
                    <!-- Map -->
                    <div id="editorMap" class="map"></div>
                    
                </div>
            </div>
            <div class="modal-footer mt-2">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" #btnClose>Close</button>
                <button type="button" class="btn btn-success ms-1" *ngIf="editableFlag; else btnNew"
                    (click)="save(eVerb.UPDATE)">Actualizar</button>
                <ng-template #btnNew>
                    <button type="button" class="btn btn-success ms-1" (click)="save(eVerb.CREATE)">Registrar</button>
                </ng-template>
            </div>
        </div>
    </div>
</div>
<div class="mt-3">
    <button type="button" class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#modalx">
        <i class="fa-solid fa-circle-plus"></i> Nuevo</button>
    <div class="bg-light bg-gradient mt-1 rounded" *ngFor="let item of addresses">
        <small class="text-break fw-semibold me-1">{{item.title}}:</small>
        <small class="fw-light">
            {{item.continent}}, {{item.country}},
            {{item.state}}, {{item.county}}:
            {{item.address}}
        </small>
        <div class="container-fluid" style="display:inline">
            <button class="btn btn-sm btn-outline-secondary"
                style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .50rem;"
                data-bs-toggle="modal" data-bs-target="#modalx" (click)="editOrCreateTrigger(item)">
                <i class="fa-solid fa-pen"></i>
            </button>
            <button class="ms-1 btn btn-sm btn-outline-secondary"
                style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .50rem;"
                (click)="deleteByEntityUuid(item.uuid)">
                <i class="fa-solid fa-trash"></i>
            </button>
        </div>
    </div>
</div>